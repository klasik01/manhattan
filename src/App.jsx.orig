<<<<<<< HEAD
import React, {Component} from 'react';
=======
import React, { Component } from 'react';
>>>>>>> 7b0775b53a371e0a871580b330a45c9b13fc69b4
import logo from './logo.svg';
import SwitchLocale from "./intl/SwitchLocale";
import styled from 'styled-components';
import {connect} from "react-redux";
<<<<<<< HEAD
import {Route, Switch, withRouter} from 'react-router-dom';
import GlobalStyle from "./theme/globalStyle";
import Header from './components/Header';
import TopBar from './components/TopBar';
import Welcome from './components/page/Welcome';
import Login from './components/Login';
import Administration from "./components/administration/Administration";
import NotFoundPage from "./components/NotFoundPage";
import LeftSideBar from "./components/LeftSideBar";
import {withStyles} from "@material-ui/core";
import PropTypes from "prop-types";
=======
import { Route, Switch, withRouter } from 'react-router-dom';
import GlobalStyle from "./theme/globalStyle";
>>>>>>> 7b0775b53a371e0a871580b330a45c9b13fc69b4

const Main = styled.div`
  padding: 15px 20px;
  background-color: #ffffff;
`;

const AppWrapper = styled.div`
  
`;

<<<<<<< HEAD
const styles = theme => ({
    root: {
        display: 'flex',
    }});

class App extends Component {
    render() {

        const {classes, theme} = this.props;

        const isLogged = this.props.isLogged;
        if (isLogged) {
            return <Route path="*" exact component={Login}/>
        }
        return (
            <AppWrapper className={`container-fluid ${classes.root}`} >
                <GlobalStyle/>
                <LeftSideBar />
                <Main>
                    <Switch>
                        <Route exact path="/" component={Welcome}/>
                        <Route exact path="/administration" component={Administration}/>
                        <Route component={NotFoundPage}/>
                    </Switch>
                </Main>
            </AppWrapper>
        );
    }
}

const mapStateToProps = (state) => ({
    isLogged: state.profile.isLogged
});

App.propTypes = {
    classes: PropTypes.object.isRequired,
    theme: PropTypes.object.isRequired,
};

export default withRouter(connect(mapStateToProps)(withStyles(styles, {withTheme: true}))(App));
=======
class App extends Component {
  render() {

    const isLogged = this.props.isLogged;
    if(!isLogged) {
      return <Route path="*" exact component={Login} />
    }
    return (
      <AppWrapper className="container-fluid">
        <GlobalStyle />
        <Header />
        <TopBar />
        <Main>
          <Switch>
            <Route exact path ="/" component={Welcome} />
          </Switch>
        </Main>
      </AppWrapper>
    );
  }
}

const mapStateToProps = (state) => ({
   isLogged: state.profile.isLogged
});

export default withRouter(connect(mapStateToProps)(App));
>>>>>>> 7b0775b53a371e0a871580b330a45c9b13fc69b4
